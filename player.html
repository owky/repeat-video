<!DOCTYPE html>
<meta lang='ja'>
<head>
  <meta charset="UTF-8">
  <title>Repeat YouTube Video</title>
</head>

<body>
  <div id="player"></div>

  <script>
    var video_id = 'HhZW-XZShhs';
    if (location.search.match(/\?vid=.+/)) {
	video_id = location.search.split('?')[1].split('&')[0].split('=')[1];
    }

    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
	player = new YT.Player('player', {
	    height: '360',
	    width: '640',
	    videoId: video_id,
	    events: {}
	});
    }
    function backToTop () {
	player.seekTo(0);
    }
    function changeVideo () {
	player.loadVideoById(document.getElementById("video_id").value)
    }
    function changeSpeed () {
	speed = document.getElementById("speedSlider").value / 100;
	document.getElementById("speed").innerHTML = speed.toFixed(1);
	player.setPlaybackRate(speed);
    }
    function speedUp () {
	document.getElementById("speedSlider").stepUp();
	changeSpeed();
    }
    function speedDown () {
	document.getElementById("speedSlider").stepDown();
	changeSpeed();
    }
  </script>
  
  Speed : x
  <span id="speed">1.0</span>
  <span onclick="speedDown()">◀</span><span onclick="speedUp()">▶</span>
  <input id="speedSlider" type="range" value="100" step="10" oninput="changeSpeed()">

  <button onclick="backToTop()">Back To Top</button>

  <p>
    <input type="text" id="video_id" value="" placeholder="zQhoI1FqUdM">
    <button onclick="changeVideo()">Play!</button>
  </p>
  https://www.youtube.com/watch?v=<font color="red">zQhoI1FqUdM</font>

  <p>
    <a href="url=location.href;var reg=new RegExp(/https:\/\/www\.youtube\.com\/watch\?v=([^&]+)/);url.match(reg)?location.href='http://192.168.11.60:8080/player.html?vid='+url.match(reg)[1]:alert('Youtube video is not found.');">
  </p>
</body>
</html>
